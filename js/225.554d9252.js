"use strict";(self["webpackChunkcrm_shop"]=self["webpackChunkcrm_shop"]||[]).push([[225],{8225:function(n,e,r){r.r(e),r.d(e,{default:function(){return _}});var i=r(3396),t=r(7139),a=r(9242);const o=(0,i._)("h2",{class:"profile-heading"},"Профиль",-1),s={class:"profile-form"},l=(0,i._)("label",{for:"login"},"Введите новое имя: ",-1),u={class:"invalid-list"};function c(n,e,r,c,m,f){return(0,i.wg)(),(0,i.iD)("div",{class:(0,t.C_)(["profile",{full:!n.isOpen}])},[o,(0,i._)("form",s,[l,(0,i.wy)((0,i._)("input",{name:"login",class:(0,t.C_)(["profile-form__input",{invalid:c.v$.name.$error}]),type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>m.name=n)},null,2),[[a.nr,m.name]]),(0,i._)("ul",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.v$.name.$errors,((n,e)=>((0,i.wg)(),(0,i.iD)("li",{class:"invalid-list__errors",key:e},(0,t.zw)(f.printErrorName(n.$validator,n.$params)),1)))),128))]),(0,i._)("button",{class:"profile-form__btn",type:"submit",onClick:e[1]||(e[1]=(0,a.iM)(((...n)=>f.changeInfo&&f.changeInfo(...n)),["prevent"]))}," Сохранить изменения ")])],2)}var m=r(3053),f=r(9117),p=r(65),h={name:"MyProfile",setup(){return{v$:(0,m.ZP)()}},data(){return{name:""}},validations(){return{name:{required:f.C1,minLength:(0,f.Ei)(4)}}},computed:{...(0,p.Se)(["isOpen"])},methods:{...(0,p.nv)(["newInfo"]),printErrorName(n,e){return"required"===n?"Придумайте логин":"minLength"===n?"Минимальная длинна логина должна быть "+e.min+" символов":void 0},async changeInfo(){if(this.v$.$touch(),this.v$.$error)return;const n={name:this.name};try{await this.newInfo(n)}catch(e){}}}},d=r(89);const v=(0,d.Z)(h,[["render",c]]);var _=v}}]);
//# sourceMappingURL=225.554d9252.js.map