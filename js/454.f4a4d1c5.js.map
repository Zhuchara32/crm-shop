{"version":3,"file":"js/454.f4a4d1c5.js","mappings":"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","sources":["webpack://crm-shop/./src/views/AddProduct.vue","webpack://crm-shop/./src/views/AddProduct.vue?8891"],"sourcesContent":["<template>\r\n  <form\r\n    class=\"add\"\r\n    :class=\"{full: !isOpen}\"\r\n    @submit.prevent=\"submitAddProd\"\r\n  >\r\n    <h2 class=\"add-heading\">\r\n      Заполните необходимые поля, для добавления товара\r\n    </h2>\r\n\r\n    <label for=\"typeProduct\" class=\"add-label\">\r\n      Тип продукта:\r\n    </label>\r\n    <ul class=\"invalid-list\">\r\n      <li class=\"invalid-list__errors\"\r\n        v-for=\"(error, index) of v$.typeProduct.$errors\"\r\n        :key=\"index\"\r\n      >\r\n        {{ printErrorTypeProd(error.$validator, error.$params) }}\r\n      </li>\r\n    </ul>\r\n    <select\r\n      name=\"typeProduct\"\r\n      id=\"typeProduct\"\r\n      class=\"add-input\"\r\n      v-model=\"typeProduct\"\r\n      :class=\"{ invalid: v$.typeProduct.$error }\"\r\n    >\r\n      <option value=\"\" disabled selected></option>\r\n      <option\r\n        v-for=\"(name, key) in typeProd\"\r\n        :key=\"key\"\r\n        :value=\"name\"\r\n      >\r\n        {{ name }}\r\n      </option>\r\n    </select>\r\n\r\n    <label for=\"nameProd\" class=\"add-label\">\r\n      Название товара:\r\n    </label>\r\n    <ul class=\"invalid-list\">\r\n      <li class=\"invalid-list__errors\"\r\n        v-for=\"(error, index) of v$.nameProd.$errors\"\r\n        :key=\"index\"\r\n      >\r\n        {{ printErrorNameProd(error.$validator, error.$params) }}\r\n      </li>\r\n    </ul>\r\n    <input\r\n      class=\"add-input\"\r\n      type=\"text\"\r\n      v-model=\"nameProd\"\r\n      id=\"nameProd\"\r\n      :class=\"{ invalid: v$.nameProd.$error }\"\r\n    >\r\n\r\n    <label for=\"description\" class=\"add-label\">\r\n      Описание товара:\r\n    </label>\r\n    <ul class=\"invalid-list\">\r\n      <li class=\"invalid-list__errors\"\r\n        v-for=\"(error, index) of v$.description.$errors\"\r\n        :key=\"index\"\r\n      >\r\n        {{ printErrorDescription(error.$validator, error.$params) }}\r\n      </li>\r\n    </ul>\r\n    <textarea\r\n      class=\"add-input\"\r\n      v-model=\"description\"\r\n      name=\"description\"\r\n      id=\"description\"\r\n      cols=\"30\"\r\n      rows=\"10\"\r\n      :class=\"{ invalid: v$.description.$error }\"\r\n    >\r\n    </textarea>\r\n\r\n    <label for=\"count\" class=\"add-label\">\r\n      Количество товара:\r\n    </label>\r\n    <ul class=\"invalid-list\">\r\n      <li class=\"invalid-list__errors\"\r\n        v-for=\"(error, index) of v$.count.$errors\"\r\n        :key=\"index\"\r\n      >\r\n        {{ printErrorCount(error.$validator, error.$params) }}\r\n      </li>\r\n    </ul>\r\n    <input\r\n      class=\"add-input\"\r\n      type=\"number\"\r\n      v-model=\"count\"\r\n      id=\"count\"\r\n      :class=\"{ invalid: v$.count.$error }\"\r\n    >\r\n\r\n    <label for=\"price\" class=\"add-label\">\r\n      Укажите цену на товар:\r\n    </label>\r\n    <ul class=\"invalid-list\">\r\n      <li class=\"invalid-list__errors\"\r\n        v-for=\"(error, index) of v$.price.$errors\"\r\n        :key=\"index\"\r\n      >\r\n        {{ printErrorPrice(error.$validator, error.$params) }}\r\n      </li>\r\n    </ul>\r\n    <input\r\n      type=\"number\"\r\n      class=\"add-input\"\r\n      v-model=\"price\"\r\n      id=\"price\"\r\n      :class=\"{ invalid: v$.price.$error }\"\r\n    >\r\n\r\n    <label for=\"img\" class=\"add-label\">\r\n      Загрузите изображение товара\r\n    </label>\r\n    <ul class=\"invalid-list\">\r\n      <li class=\"invalid-list__errors\"\r\n        v-for=\"(error, index) of v$.img.$errors\"\r\n        :key=\"index\"\r\n      >\r\n        {{ printErrorImg(error.$validator, error.$params) }}\r\n      </li>\r\n    </ul>\r\n    <input\r\n      class=\"add-input\"\r\n      type=\"file\"\r\n      ref=\"fileImg\"\r\n      id=\"img\"\r\n      @change=\"addImg\"\r\n      :class=\"{ invalid: v$.img.$error }\"\r\n    >\r\n\r\n    <button class=\"add-btn\" type=\"submit\">\r\n      Сохранить товар\r\n    </button>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport useVuelidate from '@vuelidate/core'\r\nimport { required, minLength } from '@vuelidate/validators'\r\n\r\nexport default {\r\n  name: 'AddProduct',\r\n  setup () {\r\n    return { v$: useVuelidate() }\r\n  },\r\n  data () {\r\n    return {\r\n      typeProduct: '',\r\n      nameProd: '',\r\n      count: null,\r\n      price: null,\r\n      img: '',\r\n      description: '',\r\n      fileType: [\r\n        'image/jpeg',\r\n        'image/pjpeg',\r\n        'image/png',\r\n        'image/jpg'\r\n      ]\r\n    }\r\n  },\r\n  validations () {\r\n    return {\r\n      typeProduct: { required },\r\n      nameProd: { required, minLength: minLength(5) },\r\n      count: { required, integer: v => Number.isInteger(v) },\r\n      price: { required },\r\n      img: { required, isTrue: v => this.fileType.includes(v.type) },\r\n      description: { required, minLength: minLength(20) }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['isOpen', 'typeProd'])\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'addImage'\r\n    ]),\r\n    async submitAddProd () {\r\n      this.v$.$touch()\r\n      if (this.v$.$error) {\r\n        return\r\n      }\r\n      const formData = {\r\n        typeProduct: this.typeProduct,\r\n        nameProd: this.nameProd,\r\n        count: this.count,\r\n        price: this.price,\r\n        img: this.img,\r\n        description: this.description,\r\n        confirmEddit: false,\r\n        confirmDelete: false,\r\n        confirmCart: false\r\n      }\r\n      console.log(formData)\r\n      try {\r\n        await this.addImage(formData)\r\n        this.clearProd()\r\n        this.v$.$reset()\r\n        this.$message('Товар успешно добавлен')\r\n      } catch (e) {}\r\n    },\r\n    clearProd () {\r\n      this.typeProduct = ''\r\n      this.nameProd = ''\r\n      this.count = null\r\n      this.price = null\r\n      this.img = ''\r\n      this.description = ''\r\n    },\r\n    addImg () {\r\n      const file = this.$refs.fileImg.files[0]\r\n      this.img = file\r\n    },\r\n    printErrorTypeProd ($name, $param) {\r\n      if ($name === 'required') {\r\n        return 'Из выпадающего списка, выбирете тип товара'\r\n      }\r\n    },\r\n    printErrorNameProd ($name, $param) {\r\n      if ($name === 'required') {\r\n        return 'Укажите название товара'\r\n      } else if ($name === 'minLength') {\r\n        return 'Минимальная длинна названия товара ' + $param.min + ' символов'\r\n      }\r\n    },\r\n    printErrorCount ($name, $param) {\r\n      if ($name === 'required') {\r\n        return 'Укажите количество товара, которое есть в наличие'\r\n      } else if ($name === 'integer') {\r\n        return 'Количество товара должно быть целым числом'\r\n      }\r\n    },\r\n    printErrorPrice ($name, $param) {\r\n      if ($name === 'required') {\r\n        return 'Укажите цену, за одну еденицу товара'\r\n      }\r\n    },\r\n    printErrorImg ($name, $param) {\r\n      if ($name === 'required') {\r\n        return 'Добавьте изображение товара'\r\n      } else if ($name === 'isTrue') {\r\n        return 'Пожалуйста, выберите изображение, соответствующее требованиям к формату'\r\n      }\r\n    },\r\n    printErrorDescription ($name, $param) {\r\n      if ($name === 'required') {\r\n        return 'Добавьте описание товара'\r\n      } else if ($name === 'minLength') {\r\n        return 'Минимальная длинна описания товара ' + $param.min + ' символов'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .add {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    text-align: center;\r\n    width: 80vw;\r\n    margin-left: 20vw;\r\n\r\n    &-btn {\r\n      background: #8A2BE2;\r\n      padding: 7px 10px;\r\n      border: none;\r\n      border-radius: 15px;\r\n      color: #ffffff;\r\n      transition: all 0.5s ease-out;\r\n\r\n      &:active {\r\n        padding: 9px 12px;\r\n      }\r\n\r\n      &:hover {\r\n        cursor: pointer;\r\n      }\r\n    }\r\n\r\n    &-heading {\r\n      margin: 10px auto;\r\n    }\r\n\r\n    &-input {\r\n      width: 300px;\r\n      font-size: 13px;\r\n      padding: 6px 0 4px 10px;\r\n      border: 1px solid #cecece;\r\n      background: #F6F6f6;\r\n      border-radius: 8px;\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./AddProduct.vue?vue&type=template&id=2d6932b4\"\nimport script from \"./AddProduct.vue?vue&type=script&lang=js\"\nexport * from \"./AddProduct.vue?vue&type=script&lang=js\"\n\nimport \"./AddProduct.vue?vue&type=style&index=0&id=2d6932b4&lang=scss\"\n\nimport exportComponent from \"D:\\\\project\\\\crm-shop\\\\crm-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","for","value","disabled","selected","type","_createElementBlock","full","_ctx","onSubmit","$options","_hoisted_1","_hoisted_2","_Fragment","_renderList","$setup","typeProduct","$errors","error","index","key","$validator","$params","name","id","invalid","$error","$data","$event","_hoisted_4","_hoisted_5","_hoisted_6","nameProd","_hoisted_8","description","cols","rows","_hoisted_10","count","_hoisted_12","price","_hoisted_14","img","ref","onChange","_hoisted_16","setup","v$","useVuelidate","data","fileType","validations","required","minLength","integer","v","Number","isInteger","isTrue","this","includes","computed","mapGetters","methods","mapActions","async","$touch","formData","confirmEddit","confirmDelete","confirmCart","console","log","addImage","clearProd","$reset","$message","e","addImg","file","$refs","fileImg","files","printErrorTypeProd","$name","$param","printErrorNameProd","min","printErrorCount","printErrorPrice","printErrorImg","printErrorDescription","__exports__","render"],"sourceRoot":""}