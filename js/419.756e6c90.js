"use strict";(self["webpackChunkcrm_shop"]=self["webpackChunkcrm_shop"]||[]).push([[419],{1419:function(i,s,r){r.r(s),r.d(s,{default:function(){return U}});var o=r(3396),a=r(9242),l=r(7139);const e={class:"login-comp__heading"},n=(0,o._)("span",{class:"login-comp__log"},"Войти",-1),t=(0,o.Uk)(" или "),m=(0,o.Uk)("Зарегистрироваться"),c={class:"login-comp__container"},p={class:"login-comp__float"},u={for:"email",class:"login-comp__label"},_=(0,o.Uk)(" Email "),d={class:"invalid-list"},g={class:"login-comp__float"},w={for:"password",class:"login-comp__label"},h=(0,o.Uk)(" Пароль "),v={class:"invalid-list"},$=(0,o._)("p",{class:"login-comp__clearfix"},[(0,o._)("input",{class:"login-comp__submit",type:"submit",name:"submit",value:"Войти"})],-1);function f(i,s,r,f,b,k){const y=(0,o.up)("router-link"),E=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("form",{class:"login-comp",onSubmit:s[2]||(s[2]=(0,a.iM)(((...i)=>k.onSubmit&&k.onSubmit(...i)),["prevent"]))},[(0,o._)("h1",e,[n,t,(0,o.Wm)(y,{to:"/register",class:"login-comp__sign-up"},{default:(0,o.w5)((()=>[m])),_:1})]),(0,o._)("div",c,[(0,o._)("p",p,[(0,o._)("label",u,[(0,o.Wm)(E,{class:"icon",icon:"user"}),_]),(0,o.wy)((0,o._)("input",{type:"text",name:"email",placeholder:"Email",class:(0,l.C_)(["login-comp__input",{invalid:f.v$.email.$error}]),"onUpdate:modelValue":s[0]||(s[0]=i=>b.email=i)},null,2),[[a.nr,b.email,void 0,{trim:!0}]]),(0,o._)("ul",d,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.v$.email.$errors,((i,s)=>((0,o.wg)(),(0,o.iD)("li",{class:"invalid-list__errors",key:s},(0,l.zw)(k.printError(i.$validator,i.$params)),1)))),128))])]),(0,o._)("p",g,[(0,o._)("label",w,[(0,o.Wm)(E,{class:"icon",icon:"lock"}),h]),(0,o.wy)((0,o._)("input",{type:"password",name:"password",placeholder:"Пароль",class:(0,l.C_)(["login-comp__input login-comp__showpassword",{invalid:f.v$.password.$error}]),"onUpdate:modelValue":s[1]||(s[1]=i=>b.password=i)},null,2),[[a.nr,b.password,void 0,{trim:!0}]]),(0,o._)("ul",v,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.v$.password.$errors,((i,s)=>((0,o.wg)(),(0,o.iD)("li",{class:"invalid-list__errors",key:s},(0,l.zw)(k.printPasError(i.$validator,i.$params)),1)))),128))])])]),$],32)}var b=r(3053),k=r(9117),y=r(6270),E=r(65),q={name:"LoginView",setup(){return{v$:(0,b.ZP)()}},data(){return{email:"",password:""}},validations(){return{email:{email:k.Do,required:k.C1,minLength:(0,k.Ei)(4)},password:{required:k.C1,minLength:(0,k.Ei)(6)}}},mounted(){y.Z[this.$route.query.message]&&this.$message(y.Z[this.$route.query.message])},methods:{...(0,E.nv)(["login"]),async onSubmit(){if(this.v$.$touch(),this.v$.$error)return;const i={email:this.email,password:this.password};try{await this.login(i),this.$router.push("/myProduct")}catch(s){}},printError(i,s){return"required"===i?"Поле не должно быть пустым":"minLength"===i?"Минимальная длина должна быть "+s.min+" символов":"email"===i?"Введите корректный email":void 0},printPasError(i,s){return"required"===i?"Введите пароль":"minLength"===i?"Минимальная длина пароля - "+s.min+" символов":void 0}}},C=r(89);const D=(0,C.Z)(q,[["render",f]]);var U=D}}]);
//# sourceMappingURL=419.756e6c90.js.map